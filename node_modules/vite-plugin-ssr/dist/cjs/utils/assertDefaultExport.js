"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.assertDefaultExport = void 0;
const assert_1 = require("./assert");
const hasProp_1 = require("./hasProp");
const checkType_1 = require("./checkType");
function assertDefaultExport(fileExports, filePath) {
    {
        const invalidExports = Object.keys(fileExports).filter((e) => e !== 'default');
        const invalidExportsStr = invalidExports.join(', ');
        const verb = invalidExports.length === 1 ? 'is' : 'are';
        (0, assert_1.assertUsage)(invalidExports.length === 0, `${filePath} has \`export { ${invalidExportsStr} }\` which ${verb} forbidden: ${filePath} should have a single \`export default\` instead`);
    }
    (0, assert_1.assertUsage)((0, hasProp_1.hasProp)(fileExports, 'default'), `${filePath} should have a \`export default\``);
    (0, checkType_1.checkType)(fileExports);
}
exports.assertDefaultExport = assertDefaultExport;
