"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVirutalModuleIdPageCodeFilesImporter = exports.isVirutalModulePageCodeFilesImporter = void 0;
const utils_1 = require("../utils");
const idBase = 'virtual:vite-plugin-ssr:pageCodeFilesImporter:';
const idBaseClient = `${idBase}client:`;
const idBaseServer = `${idBase}server:`;
function getVirutalModuleIdPageCodeFilesImporter(pageId, isForClientSide) {
    return (isForClientSide ? idBaseClient : idBaseServer) + pageId;
}
exports.getVirutalModuleIdPageCodeFilesImporter = getVirutalModuleIdPageCodeFilesImporter;
function isVirutalModulePageCodeFilesImporter(id) {
    if (!id.startsWith(idBase))
        return null;
    if (id.startsWith(idBaseClient)) {
        return {
            pageId: id.slice(idBaseClient.length),
            isForClientSide: true
        };
    }
    if (id.startsWith(idBaseServer)) {
        return {
            pageId: id.slice(idBaseServer.length),
            isForClientSide: false
        };
    }
    (0, utils_1.assert)(false);
}
exports.isVirutalModulePageCodeFilesImporter = isVirutalModulePageCodeFilesImporter;
